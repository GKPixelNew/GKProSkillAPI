var ee=Object.defineProperty;var te=(n,s,t)=>s in n?ee(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var u=(n,s,t)=>(te(n,typeof s!="symbol"?s+"":s,t),t);import{b as O,R as j,P as Q,d as se,f as V,e as F}from"./skill-store.DrXsvrjF.js";import{s as M,Z as A,D as w,Y as v,B as J,l as U,x as ae,d as g,c as ie,e as C,f as I,i as $,w as K,v as T,m as Y,$ as ne,u as le,g as oe,a as re,J as Z}from"./scheduler.DKCQ0og6.js";import{S as R,i as P,b as D,d as E,m as q,t as m,a as p,e as z,f as k,g as ce,c as de,o as b}from"./index.PUA3f_BE.js";import{S as ue,T as fe,c as he}from"./Toggle.B7VVZH1w.js";import{w as _}from"./entry.CgtJqFPv.js";class Ie extends O{constructor(t,e=!1,a=!1){super("mechanic",t,a);u(this,"iconKey","");u(this,"countsAsCast",!0);this.isParent=e}getData(t=!1){const e={};return e["icon-key"]=this.iconKey,e.counts=this.countsAsCast,this.data.filter(a=>t||a.meetsRequirements(this)).forEach(a=>{const i=a.getData();Object.keys(i).forEach(l=>e[l]=i[l])}),e}deserialize(t){super.deserialize(t);const e=t.data;e&&this.data.forEach(a=>a.deserialize(e)),this.iconKey=e["icon-key"],this.countsAsCast=e.counts===void 0?!0:e.counts,t.children&&Object.keys(t.children).length>0&&this.setComponents(j.deserializeComponents(t.children))}}const y=class y extends O{constructor(t,e=!1){super("condition",t,e);u(this,"iconKey","")}getData(t=!1){const e={};return e["icon-key"]=this.iconKey,this.data.filter(a=>t||a.meetsRequirements(this)).forEach(a=>{const i=a.getData();Object.keys(i).forEach(l=>e[l]=i[l])}),e}deserialize(t){super.deserialize(t);const e=t.data;this.iconKey=e["icon-key"],e&&this.data.forEach(a=>a.deserialize(e)),t.children&&Object.keys(t.children).length>0&&this.setComponents(j.deserializeComponents(t.children))}};u(y,"new",()=>new y({name:"null"}));let G=y;function me(n){let s,t,e,a,i;function l(o){n[3](o)}function c(o){n[4](o)}function d(o){n[5](o)}let h={};return n[0].selected!==void 0&&(h.selected=n[0].selected),n[0].value!==void 0&&(h.data=n[0].value),n[0].multiple!==void 0&&(h.multiple=n[0].multiple),s=new ue({props:h}),w.push(()=>k(s,"selected",l)),w.push(()=>k(s,"data",c)),w.push(()=>k(s,"multiple",d)),{c(){D(s.$$.fragment)},l(o){E(s.$$.fragment,o)},m(o,r){q(s,o,r),i=!0},p(o,r){const f={};!t&&r&1&&(t=!0,f.selected=o[0].selected,v(()=>t=!1)),!e&&r&1&&(e=!0,f.data=o[0].value,v(()=>e=!1)),!a&&r&1&&(a=!0,f.multiple=o[0].multiple,v(()=>a=!1)),s.$set(f)},i(o){i||(m(s.$$.fragment,o),i=!0)},o(o){p(s.$$.fragment,o),i=!1},d(o){z(s,o)}}}function pe(n){let s,t;return s=new Q({props:{label:n[1],tooltip:n[2],$$slots:{default:[me]},$$scope:{ctx:n}}}),{c(){D(s.$$.fragment)},l(e){E(s.$$.fragment,e)},m(e,a){q(s,e,a),t=!0},p(e,[a]){const i={};a&2&&(i.label=e[1]),a&4&&(i.tooltip=e[2]),a&129&&(i.$$scope={dirty:a,ctx:e}),s.$set(i)},i(e){t||(m(s.$$.fragment,e),t=!0)},o(e){p(s.$$.fragment,e),t=!1},d(e){z(s,e)}}}function ge(n,s,t){let{data:e}=s,{name:a=""}=s,{tooltip:i=void 0}=s;const l=A();function c(o){n.$$.not_equal(e.selected,o)&&(e.selected=o,t(0,e))}function d(o){n.$$.not_equal(e.value,o)&&(e.value=o,t(0,e))}function h(o){n.$$.not_equal(e.multiple,o)&&(e.multiple=o,t(0,e))}return n.$$set=o=>{"data"in o&&t(0,e=o.data),"name"in o&&t(1,a=o.name),"tooltip"in o&&t(2,i=o.tooltip)},n.$$.update=()=>{n.$$.dirty&1&&e&&l("save")},[e,a,i,c,d,h]}class _e extends R{constructor(s){super(),P(this,s,ge,pe,M,{data:0,name:1,tooltip:2})}}class W extends se{constructor(t,e,a,i,l=!1){super();u(this,"component",_e);u(this,"dataSource");u(this,"data",{selected:"",value:[],multiple:!1});u(this,"name","");u(this,"key","");u(this,"tooltip");u(this,"init",()=>{this.dataSource&&(this.data.value=this.dataSource()),!this.data.selected&&this.data.value.length>0&&!this.data.multiple&&(this.data.selected=this.data.value[0])});u(this,"setTooltip",t=>(this.tooltip=t,this));u(this,"clone",()=>new W(this.name,this.key,[...this.data.value],this.data.selected));u(this,"getData",()=>{const t={};return t[this.key]=this.data.selected,t});u(this,"getSummary",()=>this.data.selected instanceof Array?this.data.selected.join(", "):this.data.selected);u(this,"deserialize",t=>{this.data.selected=t[this.key],this.data.multiple&&!(this.data.selected instanceof Array)?this.data.selected=[this.data.selected]:!this.data.multiple&&this.data.selected instanceof Array&&(this.data.selected=this.data.selected[0])});this.name=t,this.key=e,typeof a=="function"?this.dataSource=a:this.data.value=a,l&&(this.data.selected=[]),i&&(this.data.selected=i),this.data.multiple=l}}const S=class S extends O{constructor(t,e=!1){super("target",t,e);u(this,"iconKey","")}getData(t=!1){const e={};return e["icon-key"]=this.iconKey,this.data.filter(a=>t||a.meetsRequirements(this)).forEach(a=>{const i=a.getData();Object.keys(i).forEach(l=>e[l]=i[l])}),e}deserialize(t){super.deserialize(t);const e=t.data;this.iconKey=e["icon-key"],e&&this.data.forEach(a=>a.deserialize(e)),t.children&&Object.keys(t.children).length>0&&this.setComponents(j.deserializeComponents(t.children))}};u(S,"new",()=>new S({name:"null"}));let H=S;function be(n){let s,t,e;function a(l){n[3](l)}let i={};return n[0]!==void 0&&(i.data=n[0]),s=new fe({props:i}),w.push(()=>k(s,"data",a)),{c(){D(s.$$.fragment)},l(l){E(s.$$.fragment,l)},m(l,c){q(s,l,c),e=!0},p(l,c){const d={};!t&&c&1&&(t=!0,d.data=l[0],v(()=>t=!1)),s.$set(d)},i(l){e||(m(s.$$.fragment,l),e=!0)},o(l){p(s.$$.fragment,l),e=!1},d(l){z(s,l)}}}function we(n){let s,t;return s=new Q({props:{label:n[1],tooltip:n[2],$$slots:{default:[be]},$$scope:{ctx:n}}}),{c(){D(s.$$.fragment)},l(e){E(s.$$.fragment,e)},m(e,a){q(s,e,a),t=!0},p(e,[a]){const i={};a&2&&(i.label=e[1]),a&4&&(i.tooltip=e[2]),a&33&&(i.$$scope={dirty:a,ctx:e}),s.$set(i)},i(e){t||(m(s.$$.fragment,e),t=!0)},o(e){p(s.$$.fragment,e),t=!1},d(e){z(s,e)}}}function ve(n,s,t){let{data:e}=s,{name:a=""}=s,{tooltip:i=void 0}=s;const l=A();function c(d){e=d,t(0,e)}return n.$$set=d=>{"data"in d&&t(0,e=d.data),"name"in d&&t(1,a=d.name),"tooltip"in d&&t(2,i=d.tooltip)},n.$$.update=()=>{n.$$.dirty&1&&(e||!e)&&l("save")},[e,a,i,c]}class $e extends R{constructor(s){super(),P(this,s,ve,we,M,{data:0,name:1,tooltip:2})}}function L(n){let s,t,e,a,i,l,c,d;const h=n[5].default,o=ie(h,n,n[4],null);return{c(){s=C("div"),t=C("div"),e=C("div"),o&&o.c(),this.h()},l(r){s=I(r,"DIV",{class:!0});var f=$(s);t=I(f,"DIV",{class:!0});var B=$(t);e=I(B,"DIV",{class:!0});var N=$(e);o&&o.l(N),N.forEach(g),B.forEach(g),f.forEach(g),this.h()},h(){K(e,"class","wrapper svelte-sv0lqh"),K(t,"class","modal-content svelte-sv0lqh"),T(t,"--width",n[1]),K(s,"class","backdrop svelte-sv0lqh")},m(r,f){U(r,s,f),Y(s,t),Y(t,e),o&&o.m(e,null),l=!0,c||(d=ne(he.call(null,t,n[2])),c=!0)},p(r,f){o&&o.p&&(!l||f&16)&&le(o,h,r,r[4],l?re(h,r[4],f,null):oe(r[4]),null),f&2&&T(t,"--width",r[1])},i(r){l||(m(o,r),r&&Z(()=>{l&&(a||(a=b(t,V,{y:-200},!0)),a.run(1))}),r&&Z(()=>{l&&(i||(i=b(s,F,{},!0)),i.run(1))}),l=!0)},o(r){p(o,r),r&&(a||(a=b(t,V,{y:-200},!1)),a.run(0)),r&&(i||(i=b(s,F,{},!1)),i.run(0)),l=!1},d(r){r&&g(s),o&&o.d(r),r&&a&&a.end(),r&&i&&i.end(),c=!1,d()}}}function ke(n){let s,t,e,a,i=n[0]&&L(n);return{c(){i&&i.c(),s=J()},l(l){i&&i.l(l),s=J()},m(l,c){i&&i.m(l,c),U(l,s,c),t=!0,e||(a=ae(window,"keyup",n[3]),e=!0)},p(l,[c]){l[0]?i?(i.p(l,c),c&1&&m(i,1)):(i=L(l),i.c(),m(i,1),i.m(s.parentNode,s)):i&&(ce(),p(i,1,1,()=>{i=null}),de())},i(l){t||(m(i),t=!0)},o(l){p(i),t=!1},d(l){l&&g(s),i&&i.d(l),e=!1,a()}}}function ye(n,s,t){let{$$slots:e={},$$scope:a}=s,{width:i="auto"}=s,{open:l=!1}=s;const c=A(),d=o=>{t(0,l=!1),c("close"),o==null||o.stopPropagation()},h=o=>{o.key=="Escape"&&(o.preventDefault(),o.stopPropagation(),d())};return n.$$set=o=>{"width"in o&&t(1,i=o.width),"open"in o&&t(0,l=o.open),"$$scope"in o&&t(4,a=o.$$scope)},[l,i,d,h,a,e]}class Ke extends R{constructor(s){super(),P(this,s,ye,ke,M,{width:1,open:0})}}const Oe=(()=>{let n=!0;{const a=localStorage.getItem("show-summary-items");n=a!==null?a==="true":n}const{subscribe:s,set:t,update:e}=_(n);return{subscribe:s,set:a=>(localStorage.setItem("show-summary-items",String(a)),t(a)),update:e}})(),je=(()=>{let n=!0;n=localStorage.getItem("use-symbols")==="true";const{subscribe:s,set:t,update:e}=_(n);return{subscribe:s,set:a=>(localStorage.setItem("use-symbols",String(a)),t(a)),update:e}})(),Me=(()=>{let n=!0;{const a=localStorage.getItem("animation-enabled");n=a!==null?a==="true":n}const{subscribe:s,set:t,update:e}=_(n);return{subscribe:s,set:a=>(localStorage.setItem("animation-enabled",String(a)),t(a)),update:e}})(),Ae=(n,{delay:s=0,duration:t=500}={})=>{const a=getComputedStyle(n).width.match(/([\d.]+)(.*)/);if(!a)return{delay:s,duration:t,css:l=>`max-width: unset; width: ${l*100}%;`};const i=Number.parseFloat(a[1]);return{delay:s,duration:t,css:l=>`max-width: unset; width: ${l*i}${a[2]}; min-width: unset;`}},Re=(n,{delay:s=0,duration:t=500})=>{const a=getComputedStyle(n).height.match(/([\d.]+)(.*)/);if(!a)return{delay:s,duration:t,css:l=>`max-height: unset; height: ${l*100}%;`};const i=Number.parseFloat(a[1]);return{delay:s,duration:t,css:l=>`max-height: unset; height: ${l*i}${a[2]}; min-height: unset;`}},X=_(void 0),x=_(void 0),Pe=(n,s)=>{X.set(n),s&&x.set(s)},Be=()=>{X.set(void 0),x.set(void 0)};export{$e as B,W as D,Ke as M,Ie as P,H as a,G as b,Be as c,Oe as d,Me as e,Ae as f,X as g,x as m,Pe as o,Re as s,je as u};
